( module ( "import" "env" "log" ( func "$log" ( param i32 ) ) ) ( mem ( export mem ) "1" ) ( data ( i32 "8000" ) "0123456789" ) ( global "$itoa_out_buf" i32 ( i32 "8010" ) ) ( func "$itoa" ( export "itoa" ) ( param "$num" i32 ) ( result i32 i32 ) ( local "$numtmp" i32 ) ( local "$numlen" i32 ) ( local "$writeidx" i32 ) ( local "$digit" i32 ) ( local "$dchar" i32 ) ( i32 ( local "$num" ) ( i32 "10" ) ) "if" ( local "$numlen" ( i32 "1" ) ) "else" ( local "$numlen" ( i32 "0" ) ) ( local "$numtmp" ( local "$num" ) ) ( "loop" "$countloop" ( "block" "$breakcountloop" ( i32 ( local "$numtmp" ) ) "br_if" "$breakcountloop" ( local "$numtmp" ( i32 ( local "$numtmp" ) ( i32 "10" ) ) ) ( local "$numlen" ( i32 ( local "$numlen" ) ( i32 "1" ) ) ) "br" "$countloop" ) ) "end" ( local "$writeidx" ( i32 ( i32 ( global "$itoa_out_buf" ) ( local "$numlen" ) ) ( i32 "1" ) ) ) ( "loop" "$writeloop" ( "block" "$breakwriteloop" ( local "$digit" ( i32 ( local "$num" ) ( i32 "10" ) ) ) ( local "$dchar" ( i32 "offset=8000" ( local "$digit" ) ) ) ( i32 ( local "$writeidx" ) ( local "$dchar" ) ) ( local "$num" ( i32 ( local "$num" ) ( i32 "10" ) ) ) ( i32 ( local "$writeidx" ) ( global "$itoa_out_buf" ) ) "br_if" "$breakwriteloop" ( local "$writeidx" ( i32 ( local "$writeidx" ) ( i32 "1" ) ) ) "br" "$writeloop" ) ) ( global "$itoa_out_buf" ) ( local "$numlen" ) ) )